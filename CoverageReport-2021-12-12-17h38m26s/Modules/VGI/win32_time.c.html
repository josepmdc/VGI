<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>win32_time.c</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
//========================================================================
// GLFW 3.4 Win32 - www.glfw.org
//------------------------------------------------------------------------
// Copyright (c) 2002-2006 Marcus Geelnard
// Copyright (c) 2006-2017 Camilla LÃ¶wy &lt;elmindreda@glfw.org&gt;
//
// This software is provided 'as-is', without any express or implied
// warranty. In no event will the authors be held liable for any damages
// arising from the use of this software.
//
// Permission is granted to anyone to use this software for any purpose,
// including commercial applications, and to alter it and redistribute it
// freely, subject to the following restrictions:
//
// 1. The origin of this software must not be misrepresented; you must not
//    claim that you wrote the original software. If you use this software
//    in a product, an acknowledgment in the product documentation would
//    be appreciated but is not required.
//
// 2. Altered source versions must be plainly marked as such, and must not
//    be misrepresented as being the original software.
//
// 3. This notice may not be removed or altered from any source
//    distribution.
//
//========================================================================
// Please use C89 style variable declarations in this file because VS 2010
//========================================================================

#include "internal.h"


//////////////////////////////////////////////////////////////////////////
//////                       GLFW internal API                      //////
//////////////////////////////////////////////////////////////////////////

// Initialise timer
//
void _glfwInitTimerWin32(void)
<span style = "background-color:#dfd">{</span>
    uint64_t frequency;

<span style = "background-color:#dfd">    if (QueryPerformanceFrequency((LARGE_INTEGER*) &amp;frequency))</span>
    {
<span style = "background-color:#dfd">        _glfw.timer.win32.hasPC = GLFW_TRUE;
        _glfw.timer.win32.frequency = frequency;
    }</span>
    else
    {
<span style = "background-color:#fdd">        _glfw.timer.win32.hasPC = GLFW_FALSE;
        _glfw.timer.win32.frequency = 1000;</span>
    }
<span style = "background-color:#dfd">}</span>


//////////////////////////////////////////////////////////////////////////
//////                       GLFW platform API                      //////
//////////////////////////////////////////////////////////////////////////

uint64_t _glfwPlatformGetTimerValue(void)
<span style = "background-color:#dfd">{
    if (_glfw.timer.win32.hasPC)</span>
    {
        uint64_t value;
<span style = "background-color:#dfd">        QueryPerformanceCounter((LARGE_INTEGER*) &amp;value);
        return value;</span>
<span style = "background-color:#fdd">    }</span>
    else
<span style = "background-color:#fdd">        return (uint64_t) timeGetTime();</span>
<span style = "background-color:#dfd">}</span>

uint64_t _glfwPlatformGetTimerFrequency(void)
<span style = "background-color:#dfd">{
    return _glfw.timer.win32.frequency;
}</span>
</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>